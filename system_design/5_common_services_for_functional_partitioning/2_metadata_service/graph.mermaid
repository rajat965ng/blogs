graph TD;
    A[Metadata Service] -->|Stores information for multiple components| B[System Components];
    B -->|Pass IDs instead of all information| C[Pass IDs between components];
    C -->|Request information corresponding to ID| D[Request information from Metadata Service];
    D -->|Less duplicate information| E[SQL normalization];
    E -->|Example: ETL pipelines| F[ETL Pipeline for Welcome Emails];
    F -->|Producer includes ID instead of entire HTML file| G[Include ID in message];
    G -->|Consumer requests HTML file corresponding to ID| H[Request HTML file from Metadata Service];
    H -->|Saves queue from containing duplicate data| I[Queue optimization];
    A -->|Increased complexity and latency| J[Tradeoff];
    J -->|Producer writes to Metadata Service and queue| K[Producer responsibilities];
    J -->|Populate Metadata Service in earlier step| L[Populate Metadata Service];
    K -->|High read requests during traffic spikes| M[High read volumes];
    M -->|Support high read volumes| N[Scalability];
    A -->|Used for ID lookups| O[ID lookups];
    O -->|Use in architecture changes| P[Architecture changes];
    P -->|Requests to API gateway instead of backend| Q[Requests to API Gateway];
    Q -->|API Gateway performs functions| R[API Gateway functions];
    R -->|May send requests to Metadata Service or backend| S[Requests to Metadata Service or Backend];
