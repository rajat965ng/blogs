graph LR;
    Start((Start)) --> HDFSReplication[HDFS replication]
    HDFSReplication --> NameNode[NameNode]
    NameNode --> DataNode1[DataNode]
    NameNode --> DataNode2[DataNode]
    NameNode --> DataNode3[DataNode]
    NameNode --> DataNode4[DataNode]
    DataNode1 -->|Serve read/write requests| Client1[File system clients]
    DataNode2 -->|Serve read/write requests| Client2[File system clients]
    DataNode3 -->|Serve read/write requests| Client3[File system clients]
    DataNode4 -->|Serve read/write requests| Client4[File system clients]
    NameNode --> Hive[Hive]
    Hive --> Partitioning[Partitioning tables]
    Partitioning -->|Efficient filter queries| Queries[Filter queries]
    Partitioning -->|Example| CreatePartitionedTable[CREATE TABLE sample_table ''user_id STRING, created_date DATE, country STRING'' PARTITIONED BY ''created_date, country'']
    CreatePartitionedTable --> Hive
    Hive --> Hadoop[Hadoop]
    Hadoop --> MapReduce[MapReduce]
    Hadoop --> DistributedData[Stores distributed data]
    MapReduce -->|Framework| Processing[Processing]
    DistributedData -->|Framework| Storage[Storage]
    Storage -->|Divided into blocks| Blocks[Blocks]
    Blocks -->|Sharded across DataNodes| DataNodes[DataNodes]
    Blocks -->|Default block size 64 MB| DefaultBlockSize[Default block size: 64 MB]
    DefaultBlockSize --> Admins[Can be set by admins]
    Admins --> Blocks
    DataNodes -->|Block creation, deletion, replication| Instructions[Instruction from NameNode]
    Instructions -->|NameNode| NameNode
    NameNode -->|Namespace operations| Namespace[File system namespace operations]
    Namespace -->|Opening, closing, renaming| Operations[Opening, closing, renaming]
    Operations -->|Mapping of blocks| Mapping[Mapping of blocks to DataNodes]
    NameNode -->|User data never flows| UserData[User data never flows through NameNode]
    HDFSReplication -->|Append-only| AppendOnly[Append-only]
    AppendOnly -->|Does not support UPDATE or DELETE| NoUpdateDelete[No UPDATE or DELETE]
    NoUpdateDelete -->|INSERT does not have race conditions| Insert[INSERT does not have race conditions]
    HDFSReplication --> Quotas[Quotas]
    Quotas --> NameQuota[Name quota]
    Quotas --> SpaceQuota[Space quota]
    Quotas --> StorageTypeQuota[Storage type quota]
    NameQuota -->|Hard limit on names| LimitNames[Hard limit on number of file and directory names]
    SpaceQuota -->|Hard limit on bytes| LimitBytes[Hard limit on number of bytes in all files]
    StorageTypeQuota -->|Hard limit on usage| LimitUsage[Hard limit on usage of specific storage types]
